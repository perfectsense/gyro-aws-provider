import ../init as _

aws::vpc vpc-example-demo-gyro
    cidr-block: "10.0.0.0/16"

    tags: {
        Name: "vpc-example-demo"
    }
end

aws::subnet subnet-public-us-east-1a
    vpc-id: $(aws::vpc vpc-example-demo | vpc-id)
    cidr-block: "10.0.0.0/24"
    availability-zone: "us-east-1a"

    tags: {
        Name: "subnet-public-us-east-1a"
    }
end

aws::internet-gateway ig-example-demo
    vpc-id: $(aws::vpc vpc-example-demo | vpc-id)

    tags: {
        Name: "ig-example"
    }
end

aws::route-table route-table-example
    vpc-id: $(aws::vpc vpc-example-demo | vpc-id)
    subnet-ids: $(aws::subnet subnet-public-us-east-2a | subnet-id)

    tags: {
        Name: "route-table-example"
    }
end

aws::route route-example
    route-table-id: $(aws::route-table route-table-example | route-table-id)
    destination-cidr-block: "0.0.0.0/0"
    gateway-id: $(aws::internet-gateway ig-example-demo | internet-gateway-id)
end